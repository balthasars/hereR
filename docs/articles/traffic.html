<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Traffic API • hereR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Traffic API">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hereR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/authentication.html">Authentication</a>
    </li>
    <li>
      <a href="../articles/geocoder.html">Geocoder API</a>
    </li>
    <li>
      <a href="../articles/routing.html">Routing API</a>
    </li>
    <li>
      <a href="../articles/traffic.html">Traffic API</a>
    </li>
    <li>
      <a href="../articles/weather.html">Destination Weather API</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/munterfinger/hereR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/munterfi1">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://munterfinger.ch">
    <span class="fa fa-globe fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="traffic_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="traffic_files/jquery-1.12.4/jquery.min.js"></script><link href="traffic_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="traffic_files/leaflet-1.3.1/leaflet.js"></script><link href="traffic_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="traffic_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="traffic_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="traffic_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="traffic_files/leaflet-binding-2.0.3/leaflet.js"></script><script src="traffic_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="traffic_files/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script><link href="traffic_files/PopupTable-0.0.1/popup.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Traffic API</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/munterfinger/hereR/blob/master/vignettes/traffic.Rmd"><code>vignettes/traffic.Rmd</code></a></small>
      <div class="hidden name"><code>traffic.Rmd</code></div>

    </div>

    
    
<p>Real-time traffic flow and incident information based on the ‘HERE Traffic’ API. The traffic flow data contains speed (<code>"SP"</code>) and congestion (jam factor: <code>"JF"</code>) information. Traffic incidents contain information about location, time, duration, severity, description and other details.</p>
<div id="flow" class="section level2">
<h2 class="hasAnchor">
<a href="#flow" class="anchor"></a>Flow</h2>
<p>In order to request the traffic flow, areas of interest (AOIs) have to be provided. The AOIs must be an <code>sf</code> object containing a polygon or multiple polygons. The response from the HERE Traffic API will be spatially joined on the AOIs and thereby the traffic flows are mapped to the corresponding polygon.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">flow &lt;-<span class="st"> </span><span class="kw"><a href="../reference/traffic.html">traffic</a></span>(</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">  <span class="dt">aoi =</span> aoi[aoi<span class="op">$</span>code <span class="op">==</span><span class="st"> "LI"</span>, ],</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">  <span class="dt">product =</span> <span class="st">"flow"</span>,</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">  <span class="dt">from_dt =</span> <span class="kw"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span>() <span class="op">-</span><span class="st"> </span>(<span class="dv">60</span><span class="op">*</span><span class="dv">60</span><span class="op">*</span><span class="dv">2</span>),</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">  <span class="dt">to_dt =</span> <span class="kw"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span>()</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">)</a></code></pre></div>
<p>Print the (ordered) ‘jam factor’ of the traffic flow on an interactive leaflet map:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">flow &lt;-<span class="st"> </span>flow[<span class="kw"><a href="https://rdrr.io/r/base/order.html">order</a></span>(flow<span class="op">$</span>JF), ]</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">mapview</span>(flow,</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">        <span class="dt">zcol =</span> <span class="st">"JF"</span>,</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">        <span class="dt">lwd =</span> flow<span class="op">$</span>JF<span class="op">*</span><span class="dv">2</span>,</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">        <span class="dt">layer.name =</span> <span class="st">"Jam factor"</span>,</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">        <span class="dt">map.types =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Esri.WorldTopoMap"</span>),</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">        <span class="dt">homebutton =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">)</a></code></pre></div>
<div id="htmlwidget-0348f6a262d7056720ed" style="width:100%;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-0348f6a262d7056720ed">{"x":{"options":{"minZoom":1,"maxZoom":100,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["Esri.WorldTopoMap",1,"Esri.WorldTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"createMapPane","args":["line",430]},{"method":"addPolylines","args":[[[[{"lng":[9.51526,9.51461],"lat":[47.24036,47.2394]}],[{"lng":[9.51461,9.51432,9.51377,9.51331,9.51287,9.51253,9.5117,9.51133,9.51023,9.50946,9.50906,9.508,9.50665,9.5061,9.5056,9.50462,9.50414,9.50357,9.50303,9.50241,9.5021,9.5017,9.50132,9.50096,9.50069,9.50019],"lat":[47.2394,47.23899,47.23824,47.23764,47.23705,47.2366,47.23556,47.23512,47.23382,47.23294,47.2325,47.2313,47.22979,47.22916,47.22859,47.22743,47.22686,47.22613,47.22541,47.22453,47.22408,47.22348,47.22287,47.22225,47.22177,47.22081]}],[{"lng":[9.50019,9.4998,9.49942,9.49916,9.49904,9.49885],"lat":[47.22081,47.21999,47.21916,47.21851,47.21818,47.21768]}],[{"lng":[9.49885,9.49874,9.49856,9.49848],"lat":[47.21768,47.21734,47.21683,47.21658]}],[{"lng":[9.49848,9.49846],"lat":[47.21658,47.21651]}],[{"lng":[9.49846,9.49839],"lat":[47.21651,47.2163]}],[{"lng":[9.49839,9.49834],"lat":[47.2163,47.21612]}],[{"lng":[9.49834,9.49828,9.49816],"lat":[47.21612,47.21594,47.21554]}],[{"lng":[9.49816,9.49767,9.49753,9.49751],"lat":[47.21554,47.21395,47.21348,47.21342]}],[{"lng":[9.49751,9.49729,9.4971,9.4969,9.49661,9.49648,9.4963,9.49613,9.49587,9.49555],"lat":[47.21342,47.21272,47.21215,47.21158,47.21082,47.2105,47.21006,47.20968,47.20913,47.20847]}]],[[{"lng":[9.51056,9.51032,9.51009,9.50992,9.50976],"lat":[47.16752,47.16769,47.16782,47.16791,47.16798]}]],[[{"lng":[9.52095,9.52093,9.52089,9.52085,9.52083,9.52081,9.5208],"lat":[47.14113,47.14113,47.14112,47.1411,47.14108,47.14106,47.14103]}],[{"lng":[9.5208,9.5208,9.52082,9.52086,9.5209],"lat":[47.14103,47.14099,47.14096,47.14094,47.14093]}]],[[{"lng":[9.49766,9.49781,9.49788],"lat":[47.21341,47.21387,47.21411]}],[{"lng":[9.49788,9.49831],"lat":[47.21411,47.21553]}],[{"lng":[9.49831,9.49846,9.49862],"lat":[47.21553,47.21601,47.2165]}],[{"lng":[9.49862,9.49864,9.49886,9.49903,9.49933,9.4996,9.50002,9.5004],"lat":[47.2165,47.21657,47.21723,47.21771,47.21851,47.21916,47.22011,47.22087]}],[{"lng":[9.5004,9.50064,9.50088,9.50114,9.5014,9.50187,9.50236,9.50278,9.5031,9.50365,9.50434,9.50528,9.50589,9.50639,9.50679,9.50725,9.50815,9.50867,9.50955,9.51077,9.5116,9.51206,9.51263,9.51308,9.51352,9.51439,9.51481,9.51541],"lat":[47.22087,47.22133,47.22178,47.22224,47.22269,47.22344,47.22419,47.22479,47.22525,47.22598,47.22685,47.228,47.22871,47.22928,47.22974,47.23026,47.23126,47.23183,47.23283,47.23423,47.23521,47.23578,47.2365,47.23707,47.23766,47.23885,47.23945,47.24035]}],[{"lng":[9.51541,9.5157,9.51619,9.51657,9.51675,9.51698,9.51713],"lat":[47.24035,47.24079,47.24154,47.24215,47.24245,47.24282,47.24308]}],[{"lng":[9.51713,9.5173],"lat":[47.24308,47.24336]}],[{"lng":[9.5173,9.51773,9.51814,9.51862],"lat":[47.24336,47.24413,47.24488,47.24578]}]],[[{"lng":[9.48909,9.48931],"lat":[47.16905,47.16909]}],[{"lng":[9.48931,9.48984,9.49027],"lat":[47.16909,47.1692,47.16929]}],[{"lng":[9.49027,9.49072],"lat":[47.16929,47.16939]}],[{"lng":[9.49072,9.49132],"lat":[47.16939,47.16951]}],[{"lng":[9.49132,9.49158],"lat":[47.16951,47.16955]}],[{"lng":[9.49158,9.49199],"lat":[47.16955,47.16962]}],[{"lng":[9.49199,9.49234,9.49272,9.49315,9.49358,9.49383],"lat":[47.16962,47.16965,47.16969,47.1697,47.1697,47.1697]}],[{"lng":[9.49383,9.49451],"lat":[47.1697,47.16966]}],[{"lng":[9.49451,9.4947],"lat":[47.16966,47.16965]}],[{"lng":[9.4947,9.49491],"lat":[47.16965,47.16963]}],[{"lng":[9.49491,9.49587],"lat":[47.16963,47.16953]}],[{"lng":[9.49587,9.49643],"lat":[47.16953,47.16945]}],[{"lng":[9.49643,9.49714],"lat":[47.16945,47.16935]}],[{"lng":[9.49714,9.49721],"lat":[47.16935,47.16934]}],[{"lng":[9.49721,9.49938],"lat":[47.16934,47.16894]}],[{"lng":[9.49938,9.50156],"lat":[47.16894,47.16855]}],[{"lng":[9.50156,9.50382],"lat":[47.16855,47.16815]}],[{"lng":[9.50382,9.50606],"lat":[47.16815,47.16774]}],[{"lng":[9.50606,9.50693],"lat":[47.16774,47.16759]}],[{"lng":[9.50693,9.50704],"lat":[47.16759,47.16757]}],[{"lng":[9.50704,9.50726],"lat":[47.16757,47.16753]}],[{"lng":[9.50726,9.50757],"lat":[47.16753,47.16748]}],[{"lng":[9.50757,9.50793,9.5081,9.50825],"lat":[47.16748,47.16743,47.16742,47.16742]}],[{"lng":[9.50825,9.50864],"lat":[47.16742,47.16742]}],[{"lng":[9.50864,9.50893],"lat":[47.16742,47.16741]}],[{"lng":[9.50893,9.50907,9.50943,9.50971],"lat":[47.16741,47.1674,47.16737,47.16732]}],[{"lng":[9.50971,9.50977,9.50986,9.51004],"lat":[47.16732,47.16729,47.16723,47.16711]}]],[[{"lng":[9.47778,9.47783,9.47797],"lat":[47.07055,47.07065,47.07152]}]],[[{"lng":[9.49344,9.49319],"lat":[47.2104,47.21033]}],[{"lng":[9.49319,9.4931,9.49297,9.4928,9.49272],"lat":[47.21033,47.2103,47.21026,47.21021,47.21019]}],[{"lng":[9.49272,9.49249,9.4923,9.49206],"lat":[47.21019,47.21014,47.21011,47.21008]}],[{"lng":[9.49206,9.491],"lat":[47.21008,47.20995]}],[{"lng":[9.491,9.49088],"lat":[47.20995,47.20994]}],[{"lng":[9.49088,9.49033],"lat":[47.20994,47.20987]}],[{"lng":[9.49033,9.48992],"lat":[47.20987,47.20982]}],[{"lng":[9.48992,9.48906],"lat":[47.20982,47.20971]}]],[[{"lng":[9.48906,9.48992],"lat":[47.20971,47.20982]}],[{"lng":[9.48992,9.49033],"lat":[47.20982,47.20987]}],[{"lng":[9.49033,9.49088],"lat":[47.20987,47.20994]}],[{"lng":[9.49088,9.491],"lat":[47.20994,47.20995]}],[{"lng":[9.491,9.49206],"lat":[47.20995,47.21008]}],[{"lng":[9.49206,9.4923,9.49249,9.49272],"lat":[47.21008,47.21011,47.21014,47.21019]}],[{"lng":[9.49272,9.4928,9.49297,9.4931,9.49319],"lat":[47.21019,47.21021,47.21026,47.2103,47.21033]}],[{"lng":[9.49319,9.49344],"lat":[47.21033,47.2104]}],[{"lng":[9.49344,9.49371,9.49378],"lat":[47.2104,47.21048,47.2105]}],[{"lng":[9.49378,9.4939,9.49417,9.49434],"lat":[47.2105,47.21053,47.21059,47.21062]}],[{"lng":[9.49434,9.49467,9.49497,9.49528],"lat":[47.21062,47.21065,47.21065,47.21065]}],[{"lng":[9.49528,9.49548,9.49559,9.49577],"lat":[47.21065,47.21064,47.21063,47.21061]}],[{"lng":[9.49577,9.49605,9.49616],"lat":[47.21061,47.21057,47.21055]}],[{"lng":[9.49616,9.49636,9.49648,9.49658],"lat":[47.21055,47.21052,47.2105,47.21049]}],[{"lng":[9.49658,9.49663,9.49716],"lat":[47.21049,47.21048,47.2104]}]],[[{"lng":[9.49716,9.49663,9.49658],"lat":[47.2104,47.21048,47.21049]}],[{"lng":[9.49658,9.49648,9.49636,9.49616],"lat":[47.21049,47.2105,47.21052,47.21055]}],[{"lng":[9.49616,9.49605,9.49577],"lat":[47.21055,47.21057,47.21061]}],[{"lng":[9.49577,9.49559,9.49548,9.49528],"lat":[47.21061,47.21063,47.21064,47.21065]}],[{"lng":[9.49528,9.49497,9.49467,9.49434],"lat":[47.21065,47.21065,47.21065,47.21062]}],[{"lng":[9.49434,9.49417,9.4939,9.49378],"lat":[47.21062,47.21059,47.21053,47.2105]}],[{"lng":[9.49378,9.49371,9.49344],"lat":[47.2105,47.21048,47.2104]}]]],null,"Jam factor",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"line","stroke":true,"color":["#FFD700","#F1A108","#DD5014","#DD5014","#DD5014","#D73518","#D01A1C","#CA0020","#CA0020"],"weight":[0,0.35896,0.94028,1.06386,1.06466,1.12302,1.3807,1.52858,1.57576],"opacity":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"fill":false,"fillColor":["#FFD700","#F1A108","#DD5014","#DD5014","#DD5014","#D73518","#D01A1C","#CA0020","#CA0020"],"fillOpacity":[1,1,1,1,1,1,1,1,1],"smoothFactor":1,"noClip":false},["<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>9&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>PC&emsp;<\/b><\/td><td align='right'>10329&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>DE&emsp;<\/b><\/td><td align='right'>Haag&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>QD&emsp;<\/b><\/td><td align='right'>+&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>LE&emsp;<\/b><\/td><td align='right'>3.87650&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>TY&emsp;<\/b><\/td><td align='right'>TR&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>SP&emsp;<\/b><\/td><td align='right'>118.09&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>FF&emsp;<\/b><\/td><td align='right'>105.0&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>JF&emsp;<\/b><\/td><td align='right'>0.00000&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>CN&emsp;<\/b><\/td><td align='right'>0.95&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>PC&emsp;<\/b><\/td><td align='right'>24661&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>DE&emsp;<\/b><\/td><td align='right'>Schaan&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>QD&emsp;<\/b><\/td><td align='right'>+&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>LE&emsp;<\/b><\/td><td align='right'>0.07961&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>TY&emsp;<\/b><\/td><td align='right'>TR&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>SP&emsp;<\/b><\/td><td align='right'> 30.24&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>FF&emsp;<\/b><\/td><td align='right'> 34.0&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>JF&emsp;<\/b><\/td><td align='right'>0.17948&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>CN&emsp;<\/b><\/td><td align='right'>0.84&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>6&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>PC&emsp;<\/b><\/td><td align='right'>24663&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>DE&emsp;<\/b><\/td><td align='right'>Vaduz&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>QD&emsp;<\/b><\/td><td align='right'>+&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>LE&emsp;<\/b><\/td><td align='right'>0.03241&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>TY&emsp;<\/b><\/td><td align='right'>TR&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>SP&emsp;<\/b><\/td><td align='right'> 25.52&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>FF&emsp;<\/b><\/td><td align='right'> 30.3&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>JF&emsp;<\/b><\/td><td align='right'>0.47014&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>CN&emsp;<\/b><\/td><td align='right'>0.73&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>8&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>PC&emsp;<\/b><\/td><td align='right'>10328&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>DE&emsp;<\/b><\/td><td align='right'>Sennwald&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>QD&emsp;<\/b><\/td><td align='right'>-&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>LE&emsp;<\/b><\/td><td align='right'>3.95664&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>TY&emsp;<\/b><\/td><td align='right'>TR&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>SP&emsp;<\/b><\/td><td align='right'>101.23&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>FF&emsp;<\/b><\/td><td align='right'>105.0&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>JF&emsp;<\/b><\/td><td align='right'>0.53193&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>CN&emsp;<\/b><\/td><td align='right'>0.94&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>5&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>PC&emsp;<\/b><\/td><td align='right'>24661&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>DE&emsp;<\/b><\/td><td align='right'>Schaan&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>QD&emsp;<\/b><\/td><td align='right'>-&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>LE&emsp;<\/b><\/td><td align='right'>1.63900&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>TY&emsp;<\/b><\/td><td align='right'>TR&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>SP&emsp;<\/b><\/td><td align='right'> 43.50&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>FF&emsp;<\/b><\/td><td align='right'> 46.6&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>JF&emsp;<\/b><\/td><td align='right'>0.53233&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>CN&emsp;<\/b><\/td><td align='right'>0.72&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>7&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>PC&emsp;<\/b><\/td><td align='right'>24534&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>DE&emsp;<\/b><\/td><td align='right'>Trübbach&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>QD&emsp;<\/b><\/td><td align='right'>-&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>LE&emsp;<\/b><\/td><td align='right'>0.10905&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>TY&emsp;<\/b><\/td><td align='right'>TR&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>SP&emsp;<\/b><\/td><td align='right'> 36.26&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>FF&emsp;<\/b><\/td><td align='right'> 39.0&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>JF&emsp;<\/b><\/td><td align='right'>0.56151&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>CN&emsp;<\/b><\/td><td align='right'>0.72&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>PC&emsp;<\/b><\/td><td align='right'>24659&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>DE&emsp;<\/b><\/td><td align='right'>Haag&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>QD&emsp;<\/b><\/td><td align='right'>+&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>LE&emsp;<\/b><\/td><td align='right'>0.34188&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>TY&emsp;<\/b><\/td><td align='right'>TR&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>SP&emsp;<\/b><\/td><td align='right'> 36.00&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>FF&emsp;<\/b><\/td><td align='right'> 39.4&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>JF&emsp;<\/b><\/td><td align='right'>0.69035&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>CN&emsp;<\/b><\/td><td align='right'>0.70&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>3&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>PC&emsp;<\/b><\/td><td align='right'>27109&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>DE&emsp;<\/b><\/td><td align='right'>Haag&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>QD&emsp;<\/b><\/td><td align='right'>-&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>LE&emsp;<\/b><\/td><td align='right'>0.63119&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>TY&emsp;<\/b><\/td><td align='right'>TR&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>SP&emsp;<\/b><\/td><td align='right'> 40.43&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>FF&emsp;<\/b><\/td><td align='right'> 44.7&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>JF&emsp;<\/b><\/td><td align='right'>0.76429&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>CN&emsp;<\/b><\/td><td align='right'>0.73&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>PC&emsp;<\/b><\/td><td align='right'>27109&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>DE&emsp;<\/b><\/td><td align='right'>Haag&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>QD&emsp;<\/b><\/td><td align='right'>+&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>LE&emsp;<\/b><\/td><td align='right'>0.28930&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>TY&emsp;<\/b><\/td><td align='right'>TR&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>SP&emsp;<\/b><\/td><td align='right'> 43.09&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>FF&emsp;<\/b><\/td><td align='right'> 47.8&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>JF&emsp;<\/b><\/td><td align='right'>0.78788&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>CN&emsp;<\/b><\/td><td align='right'>0.81&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["0","0.17948","0.47014","0.53193","0.53233","0.56151","0.69035","0.76429","0.78788"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":[0,1,2,2,2,2,3,3,3],"opacity":1,"fill":false,"fillOpacity":0,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addLayersControl","args":["Esri.WorldTopoMap","Jam factor",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#FFD700","#F8BC04","#F1A108","#EB860C","#E46B10","#DD5014","#D73518","#D01A1C","#CA0020"],"labels":["0.000 &ndash; 0.088","0.088 &ndash; 0.175","0.175 &ndash; 0.263","0.263 &ndash; 0.350","0.350 &ndash; 0.438","0.438 &ndash; 0.525","0.525 &ndash; 0.613","0.613 &ndash; 0.700","0.700 &ndash; 0.788"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"bin","title":"Jam factor","extra":null,"layerId":null,"className":"info legend","group":"Jam factor"}]}],"limits":{"lat":[47.07055,47.24578],"lng":[9.47778,9.52095]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      //map.on('click', function (e) {\n      //  var txt = document.querySelector('.lnlt').textContent;\n      //  console.log(txt);\n      //  //txt.innerText.focus();\n      //  //txt.select();\n      //  setClipboardText(txt);\n      //});\n\n      function setClipboardText(text){\n      var id = 'mycustom-clipboard-textarea-hidden-id';\n      var existsTextarea = document.getElementById(id);\n\n      if(!existsTextarea){\n      console.log('Creating textarea');\n      var textarea = document.createElement('textarea');\n      textarea.id = id;\n      // Place in top-left corner of screen regardless of scroll position.\n      textarea.style.position = 'fixed';\n      textarea.style.top = 0;\n      textarea.style.left = 0;\n\n      // Ensure it has a small width and height. Setting to 1px / 1em\n      // doesn't work as this gives a negative w/h on some browsers.\n      textarea.style.width = '1px';\n      textarea.style.height = '1px';\n\n      // We don't need padding, reducing the size if it does flash render.\n      textarea.style.padding = 0;\n\n      // Clean up any borders.\n      textarea.style.border = 'none';\n      textarea.style.outline = 'none';\n      textarea.style.boxShadow = 'none';\n\n      // Avoid flash of white box if rendered for any reason.\n      textarea.style.background = 'transparent';\n      document.querySelector('body').appendChild(textarea);\n      console.log('The textarea now exists :)');\n      existsTextarea = document.getElementById(id);\n      }else{\n      console.log('The textarea already exists :3')\n      }\n\n      existsTextarea.value = text;\n      existsTextarea.select();\n\n      try {\n      var status = document.execCommand('copy');\n      if(!status){\n      console.error('Cannot copy text');\n      }else{\n      console.log('The text is now on the clipboard');\n      }\n      } catch (err) {\n      console.log('Unable to copy.');\n      }\n      }\n\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div id="incidents" class="section level2">
<h2 class="hasAnchor">
<a href="#incidents" class="anchor"></a>Incidents</h2>
<p>AOIs also must be provided in order to request information about traffic incidents in specific regions. The optional time interval, which defines the traffic incidents that should be considered, can be specitified by the <code>from_dt</code> and <code>to_dt</code> parameters. The datetime information passed to the function must be a timestamp of type <code>POSIXct</code>, <code>POSIXt</code>. The <code>local_time</code> parameter defines if the time values in the response for traffic incidents should be in the local time of the incident or in UTC (default).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">incidents &lt;-<span class="st"> </span><span class="kw"><a href="../reference/traffic.html">traffic</a></span>(</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">  <span class="dt">aoi =</span> aoi[aoi<span class="op">$</span>code <span class="op">==</span><span class="st"> "LI"</span>, ],</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  <span class="dt">product =</span> <span class="st">"incidents"</span>,</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="dt">from_dt =</span> <span class="kw"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span>()<span class="op">-</span><span class="dv">60</span><span class="op">*</span><span class="dv">60</span><span class="op">*</span><span class="fl">1.5</span>,</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">  <span class="dt">local_time =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">)</a></code></pre></div>
<p>Print the traffic incidents on an interactive leaflet map:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">mapview</span>(incidents,</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">        <span class="dt">zcol =</span> <span class="st">"type"</span>,</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">        <span class="dt">layer.name =</span> <span class="st">"Incident type"</span>,</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">        <span class="dt">map.types =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Esri.WorldTopoMap"</span>),</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">        <span class="dt">homebutton =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">)</a></code></pre></div>
<div id="htmlwidget-521178afdda5e4f1e5c3" style="width:100%;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-521178afdda5e4f1e5c3">{"x":{"options":{"minZoom":1,"maxZoom":100,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["Esri.WorldTopoMap",1,"Esri.WorldTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[46.56223,47.20242,46.65646,46.71234,47.42033,47.41497,47.16527,46.66006],[8.36146,7.04254,8.71082,8.87208,8.57451,8.44032,7.01248,10.04058],6,null,"Incident type",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":2,"opacity":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"fill":true,"fillColor":["#CA0020","#FFD700","#DB4715","#DB4715","#ED8F0A","#ED8F0A","#FFD700","#DB4715"],"fillOpacity":[0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6]},null,null,["<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>incident_id&emsp;<\/b><\/td><td align='right'>8.117285e+16&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>entry_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:32:49&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>from_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:32:48&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>to_dt&emsp;<\/b><\/td><td align='right'>2019-12-23 00:31:32&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>status&emsp;<\/b><\/td><td align='right'>active&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>type&emsp;<\/b><\/td><td align='right'>road_closure&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>verified&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>criticality&emsp;<\/b><\/td><td align='right'>0&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>road_closed&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Geschlossen zwischen Gletsch und Handegg - Gesperrt. für alle Fahrzeuge.&emsp;<\/td><\/tr><tr><td>12<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>incident_id&emsp;<\/b><\/td><td align='right'>1.344294e+18&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>entry_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:45:33&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>from_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:45:33&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>to_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 20:14:17&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>status&emsp;<\/b><\/td><td align='right'>active&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>type&emsp;<\/b><\/td><td align='right'>accident&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>verified&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>criticality&emsp;<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>road_closed&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Zwischen Mont-Tramelan und St-Imier - Unfall. Schneeglätte in Höhen über 00 Metern. Verkehrsbehinderung.&emsp;<\/td><\/tr><tr><td>12<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>3&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>incident_id&emsp;<\/b><\/td><td align='right'>1.105293e+18&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>entry_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:50:03&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>from_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:50:03&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>to_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 21:49:25&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>status&emsp;<\/b><\/td><td align='right'>active&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>type&emsp;<\/b><\/td><td align='right'>road hazard&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>verified&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>criticality&emsp;<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>road_closed&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Zwischen Tschamut und Disentis/Mustér - Schneeglätte in Höhen über 00 Metern.&emsp;<\/td><\/tr><tr><td>12<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>incident_id&emsp;<\/b><\/td><td align='right'>2.381570e+18&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>entry_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:50:03&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>from_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:50:03&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>to_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 21:49:25&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>status&emsp;<\/b><\/td><td align='right'>active&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>type&emsp;<\/b><\/td><td align='right'>road hazard&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>verified&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>criticality&emsp;<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>road_closed&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Zwischen Disentis/Mustér und Tschamut - Schneeglätte in Höhen über 00 Metern.&emsp;<\/td><\/tr><tr><td>12<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>5&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>incident_id&emsp;<\/b><\/td><td align='right'>2.517898e+18&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>entry_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 04:00:33&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>from_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:30:00&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>to_dt&emsp;<\/b><\/td><td align='right'>2019-12-24 04:00:00&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>status&emsp;<\/b><\/td><td align='right'>active&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>type&emsp;<\/b><\/td><td align='right'>miscellaneous&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>verified&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>criticality&emsp;<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>road_closed&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Zwischen Echangeur de Zurich-Nord und Weiningen - Vorübergehende Begrenzung der Breite. Baustelle in der Nacht. Fahrbahn von auf einen Fahrstreifen verengt. Fahrbahnverengung. Verkehrsbehinderung. ID31355&emsp;<\/td><\/tr><tr><td>12<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>6&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>incident_id&emsp;<\/b><\/td><td align='right'>6.964064e+17&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>entry_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 04:00:33&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>from_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:30:00&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>to_dt&emsp;<\/b><\/td><td align='right'>2019-12-24 04:00:00&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>status&emsp;<\/b><\/td><td align='right'>active&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>type&emsp;<\/b><\/td><td align='right'>miscellaneous&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>verified&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>criticality&emsp;<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>road_closed&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Zwischen Weiningen und Echangeur de Zurich-Nord - Vorübergehende Begrenzung der Breite. Baustelle in der Nacht. Fahrbahn von auf einen Fahrstreifen verengt. Fahrbahnverengung. Verkehrsbehinderung. ID31355&emsp;<\/td><\/tr><tr><td>12<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>7&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>incident_id&emsp;<\/b><\/td><td align='right'>1.570974e+18&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>entry_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:45:33&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>from_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:45:33&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>to_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 20:14:17&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>status&emsp;<\/b><\/td><td align='right'>active&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>type&emsp;<\/b><\/td><td align='right'>accident&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>verified&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>criticality&emsp;<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>road_closed&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Zwischen St-Imier und Mont-Tramelan - Unfall. Schneeglätte in Höhen über 00 Metern. Verkehrsbehinderung.&emsp;<\/td><\/tr><tr><td>12<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>8&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>incident_id&emsp;<\/b><\/td><td align='right'>3.429204e+18&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>entry_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:50:48&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>from_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 19:50:48&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>to_dt&emsp;<\/b><\/td><td align='right'>2019-12-22 21:49:43&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>status&emsp;<\/b><\/td><td align='right'>active&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>type&emsp;<\/b><\/td><td align='right'>road hazard&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>verified&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>criticality&emsp;<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>road_closed&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Zwischen Brail und Vinadi - Schneeglätte in Höhen über 00 Metern.&emsp;<\/td><\/tr><tr><td>12<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["road_closure","accident","road hazard","road hazard","miscellaneous","miscellaneous","accident","road hazard"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addLayersControl","args":["Esri.WorldTopoMap","Incident type",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#FFD700","#ED8F0A","#DB4715","#CA0020"],"labels":["accident","miscellaneous","road hazard","road_closure"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"Incident type","extra":null,"layerId":null,"className":"info legend","group":"Incident type"}]}],"limits":{"lat":[46.56223,47.42033],"lng":[7.01248,10.04058]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      //map.on('click', function (e) {\n      //  var txt = document.querySelector('.lnlt').textContent;\n      //  console.log(txt);\n      //  //txt.innerText.focus();\n      //  //txt.select();\n      //  setClipboardText(txt);\n      //});\n\n      function setClipboardText(text){\n      var id = 'mycustom-clipboard-textarea-hidden-id';\n      var existsTextarea = document.getElementById(id);\n\n      if(!existsTextarea){\n      console.log('Creating textarea');\n      var textarea = document.createElement('textarea');\n      textarea.id = id;\n      // Place in top-left corner of screen regardless of scroll position.\n      textarea.style.position = 'fixed';\n      textarea.style.top = 0;\n      textarea.style.left = 0;\n\n      // Ensure it has a small width and height. Setting to 1px / 1em\n      // doesn't work as this gives a negative w/h on some browsers.\n      textarea.style.width = '1px';\n      textarea.style.height = '1px';\n\n      // We don't need padding, reducing the size if it does flash render.\n      textarea.style.padding = 0;\n\n      // Clean up any borders.\n      textarea.style.border = 'none';\n      textarea.style.outline = 'none';\n      textarea.style.boxShadow = 'none';\n\n      // Avoid flash of white box if rendered for any reason.\n      textarea.style.background = 'transparent';\n      document.querySelector('body').appendChild(textarea);\n      console.log('The textarea now exists :)');\n      existsTextarea = document.getElementById(id);\n      }else{\n      console.log('The textarea already exists :3')\n      }\n\n      existsTextarea.value = text;\n      existsTextarea.select();\n\n      try {\n      var status = document.execCommand('copy');\n      if(!status){\n      console.error('Cannot copy text');\n      }else{\n      console.log('The text is now on the clipboard');\n      }\n      } catch (err) {\n      console.log('Unable to copy.');\n      }\n      }\n\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div id="api-reference" class="section level2">
<h2 class="hasAnchor">
<a href="#api-reference" class="anchor"></a>API Reference</h2>
<ul>
<li><a href="https://developer.here.com/documentation/traffic/topics_v6.1/resource-parameters-flow.html">Flow</a></li>
<li><a href="https://developer.here.com/documentation/traffic/topics/resource-parameters-incidents.html">Incidents</a></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#flow">Flow</a></li>
      <li><a href="#incidents">Incidents</a></li>
      <li><a href="#api-reference">API Reference</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Merlin Unterfinger.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
